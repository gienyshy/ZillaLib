!function(){'use strict';function e(e,t){throw A=!0,ZL.error(e,t),'abort'}function t(){var e=g.buffer;u=new Int8Array(e),new Int16Array(e),c=new Int32Array(e),f=new Uint8Array(e),s=new Uint16Array(e),l=new Uint32Array(e),m=new Float32Array(e)}function n(e){var t,n;for(e=unescape(encodeURIComponent(e)),n=ZL.asm.malloc(e.length+1),t=0;t<e.length;++t)u[n+t]=255&e.charCodeAt(t);return u[n+t]=0,n}function r(e){var t=ZL.asm.malloc(Math.max(e.length,1));return e.subarray||e.slice?f.set(e,t):f.set(new Uint8Array(e),t),t}function a(e,t,n,r){var a,o,i,u,f,s,c;if(0>=r)return 0;for(a=e,o=t,u=i=n,f=i+r-1,s=0;s<a.length;++s)if((c=a.charCodeAt(s))>=55296&&57343>=c&&(c=65536+((1023&c)<<10)|1023&a.charCodeAt(++s)),c>127)if(c>2047)if(c>65535)if(c>2097151)if(c>67108863){if(i+5>=f)break;o[i++]=252|c>>30,o[i++]=128|c>>24&63,o[i++]=128|c>>18&63,o[i++]=128|c>>12&63,o[i++]=128|c>>6&63,o[i++]=128|63&c}else{if(i+4>=f)break;o[i++]=248|c>>24,o[i++]=128|c>>18&63,o[i++]=128|c>>12&63,o[i++]=128|c>>6&63,o[i++]=128|63&c}else{if(i+3>=f)break;o[i++]=240|c>>18,o[i++]=128|c>>12&63,o[i++]=128|c>>6&63,o[i++]=128|63&c}else{if(i+2>=f)break;o[i++]=224|c>>12,o[i++]=128|c>>6&63,o[i++]=128|63&c}else{if(i+1>=f)break;o[i++]=192|c>>6,o[i++]=128|63&c}else{if(i>=f)break;o[i++]=c}return o[i]=0,i-u}function o(e,t){var n,r,a,o,i,u,s,c,l,m,g,d,h,L;if(0===t||!e)return'';for(n=0,a=0;n|=r=f[e+a>>0],(0!=r||t)&&(a++,!t||a!=t););if(t||(t=a),128&n)for(o=f,i=e,u=e+t,s=String.fromCharCode,h='';;){if(i==u||!(c=o[i++]))return h;128&c?(l=63&o[i++],192!=(224&c)?(a=63&o[i++],224==(240&c)?c=(15&c)<<12|l<<6|a:(m=63&o[i++],240==(248&c)?c=(7&c)<<18|l<<12|a<<6|m:(g=63&o[i++],c=248==(252&c)?(3&c)<<24|l<<18|a<<12|m<<6|g:(1&c)<<30|l<<24|a<<18|m<<12|g<<6|(r=63&o[i++]))),h+=65536>c?s(c):s(55296|(d=c-65536)>>10,56320|1023&d)):h+=s((31&c)<<6|l)):h+=s(c)}for(L='';t>0;e+=1024,t-=1024)L+=String.fromCharCode.apply(String,f.subarray(e,e+Math.min(t,1024)));return L}function i(e){var t,n,r,a,o,i,u,f=new Uint8Array(128),s=function(n){return f[e.charCodeAt(t+n)]};for(t=0;64>t;t++)f['ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/'.charCodeAt(t)]=t;for(f[45]=62,f[95]=63,n=e.length,r='='===e[n-2]?2:'='===e[n-1]?1:0,a=new Uint8Array(3*n/4-r),o=0,i=r>0?n-4:n,u=0,t=0;i>t;t+=4)u=s(0)<<18|s(1)<<12|s(2)<<6|s(3),a[o++]=u>>16&255,a[o++]=u>>8&255,a[o++]=255&u;return 1===r?(u=s(0)<<10|s(1)<<4|s(2)>>2,a[o]=u>>8&255,a[o+1]=255&u):2===r&&(a[o]=255&(s(0)<<2|s(1)>>4)),a}var u,f,s,c,l,m,g,d,h,L,b,_,v,x,Z,y,w,A=!1;ZL.print=ZL.print||function(e){console.log(e)},ZL.error=ZL.error||function(e,t){ZL.print('[ERROR] '+e+': '+t)},ZL.started=ZL.started||function(){},(b={sbrk:function(n){var r=d,a=r+n,o=a-g.buffer.byteLength;return a>268435456&&e('MEM','Out of memory'),o>0&&(g.grow(o+65535>>16),t()),d=a,0|r},time:function(e){var t=Date.now()/1e3|0;return e&&(c[e>>2]=t),t},gettimeofday:function(e){var t=Date.now();c[e>>2]=t/1e3|0,c[e+4>>2]=t%1e3*1e3|0},__assert_fail:function(t,n,r,a){e('CRASH','Assert '+o(t)+', at: '+(n?o(n):'unknown filename'),a&&o(a))},__cxa_uncaught_exception:function(){e('CRASH','Uncaught exception!')},__cxa_pure_virtual:function(){e('CRASH','pure virtual')},abort:function(){e('CRASH','Abort called')},longjmp:function(){e('CRASH','Unsupported longjmp called')}}).setjmp=b.__cxa_atexit=b.__lock=b.__unlock=function(){},b.ceil=b.ceilf=Math.ceil,b.exp=b.expf=Math.exp,b.floor=b.floorf=Math.floor,b.log=b.logf=Math.log,b.pow=b.powf=Math.pow,b.cos=b.cosf=Math.cos,b.sin=b.sinf=Math.sin,b.tan=b.tanf=Math.tan,b.acos=b.acosf=Math.acos,b.asin=b.asinf=Math.asin,b.sqrt=b.sqrtf=Math.sqrt,b.atan=b.atanf=Math.atan,b.atan2=b.atan2f=Math.atan2,b.fabs=b.fabsf=b.abs=Math.abs,b.round=b.roundf=b.rint=b.rintf=Math.round,function(e){function t(e,t,n,r){return e[t+r]||e['moz'+n+r]||e['webkit'+n+r]||e['ms'+n+r]}function a(e){c=e;var n=e?ZL.canvas:document,r=e?t(n,'r','R','equestPointerLock'):t(n,'e','E','xitPointerLock');r&&r.call(n)}var i,u,s='ZL',c=0,l={};try{l=window.localStorage||{}}catch(e){}e.ZLJS_CreateWindow=function(e,n,r){var o,u,f,s,l,m,g,d,h,b,_,v,x,Z,y;ZL.requestWidth?(n=ZL.requestHeight?ZL.requestHeight:ZL.requestWidth*n/e,e=ZL.requestWidth):ZL.requestHeight&&(e=ZL.requestHeight*e/n,n=ZL.requestHeight),o=ZL.canvas,(u=function(){o.width=e,o.height=n,o.height=o.clientHeight,o.width=o.clientWidth})(),L(o,{antialias:!0,alpha:!1})&&(f=!0,s=null,l=null,m=-1,g=-1,d=function(e){e.preventDefault?e.preventDefault(!0):e.stopPropagation?e.stopPropagation(!0):e.stopped=!0},h=function(e){return(void 0!==e.offsetX?e.offsetX:e.clientX-(l?0:o.getBoundingClientRect().left))*o.width/o.clientWidth},b=function(e){return(void 0!==e.offsetY?e.offsetY:e.clientY-(l?0:o.getBoundingClientRect().top))*o.height/o.clientHeight},_=function(e,t,n){n('moz'+e,t,1),n('webkit'+e,t,1),n('ms'+e,t,1)},x=function(e,t){o.addEventListener(e,t,{capture:!0,passive:!1})},Z=function(e,t,n){document.addEventListener(e,t),n||_(e,t,Z)},(v=function(e,t){window.addEventListener(e,t,!0)})('keydown',function(e){var t;ZL.asm.ZLFNKey(!0,e.keyCode,e.shiftKey,e.ctrlKey,e.altKey,e.metaKey),void 0!==e.char?e.char||d(e):e.keyIdentifier&&(t=e.keyIdentifier.match(/^U\+(\S+)$/))&&Math.floor('0x'+t[1])>=32||d(e)}),v('keyup',function(e){ZL.asm.ZLFNKey(!1,e.keyCode,e.shiftKey,e.ctrlKey,e.altKey,e.metaKey),d(e)}),v('keypress',function(e){var t=e.charCode||e.char&&e.char.charCodeAt(0);32>t||ZL.asm.ZLFNText(t),d(e)}),x('mousemove',function(e){var t,n,r,a;s?(-1==m&&(m=g=200),t=0|e.movementX,n=0|e.movementY,(t||n)&&(g+=n,0>(m+=t)?m=0:m>o.width-1&&(m=o.width-1),0>g?g=0:g>o.height-1&&(g=o.height-1),ZL.asm.ZLFNMove(m,g,t,n))):(r=h(e),a=b(e),-1!=m&&r==m&&a==g||(-1==m&&(m=r,g=a),ZL.asm.ZLFNMove(r,a,r-m,a-g),m=r,g=a)),f&&d(e)}),x('mousedown',function(e){ZL.asm.ZLFNMouse(e.button,!0,s?m:h(e),s?g:b(e)),f&&d(e),c&&!s&&a(1)}),x('mouseup',function(e){ZL.asm.ZLFNMouse(e.button,!1,s?m:h(e),s?g:b(e)),f&&d(e)}),x('mousewheel',function(e){ZL.asm.ZLFNWheel(e.wheelDelta),f&&d(e)}),x('DOMMouseScroll',function(e){ZL.asm.ZLFNWheel(40*-e.detail),f&&d(e)}),x('mouseover',function(){s||l||(f=!0,ZL.asm.ZLFNWindow(1,0,0))}),x('mouseout',function(){s||l||(f=!1,m=g=-1,ZL.asm.ZLFNWindow(2,0,0))}),x('touchstart',function(e){ZL.asm.ZLFNMouse(0,!0,m=h(e.touches[0]),g=b(e.touches[0])),f&&d(e)}),x('touchmove',function(e){var t=h(e.touches[0]),n=b(e.touches[0]);ZL.asm.ZLFNMove(t,n,t-m,n-g),m=t,g=n,f&&d(e)}),x('touchend',function(e){ZL.asm.ZLFNMouse(0,!1,m,g),f&&d(e)}),v('focus',function(e){e.target==window&&ZL.asm.ZLFNWindow(3,0,0)}),v('blur',function(e){e.target==window&&ZL.asm.ZLFNWindow(4,0,0)}),v('resize',function(){l||32>o.clientWidth||32>o.clientHeight||o.width==o.clientWidth&&o.height==o.clientHeight||(o.height=o.clientHeight,o.width=o.clientWidth,ZL.asm.ZLFNWindow(6,o.width,o.height))}),Z('fullscreenchange',function(){(l=t(document,'f','F','ullscreenElement')||t(document,'f','F','ullScreenElement'))?(o.orgStyle=o.style.cssText,o.style.cssText='background:black',o.height=screen.height,o.width=screen.width):(o.orgStyle&&(o.style.cssText=o.orgStyle),u()),ZL.asm.ZLFNWindow(l?5:6,o.width,o.height)}),Z('pointerlockchange',function(){s=t(document,'p','P','ointerLockElement'),ZL.asm.ZLFNWindow(s?7:8,0,0)}),i=Date.now(),r>1e3/55?(window.requestAnimationFrame(ZL.asm.ZLFNDraw),setInterval(function(){window.requestAnimationFrame(ZL.asm.ZLFNDraw)},r)):(y=function(){A||(window.requestAnimationFrame(y),ZL.asm.ZLFNDraw())},window.requestAnimationFrame(y)))},e.ZLJS_GetWidth=function(){return ZL.canvas.width},e.ZLJS_GetHeight=function(){return ZL.canvas.height},e.ZLJS_GetTime=function(){return Date.now()-i},e.ZLJS_SetFullscreen=ZL.SetFullscreen=function(e){var n,r=e?ZL.canvas:document;(n=e?t(r,'r','R','equestFullscreen')||t(r,'r','R','equestFullScreen'):t(r,'e','E','xitFullscreen')||t(r,'c','C','ancelFullScreen'))&&n.call(r)},e.ZLJS_SetPointerLock=function(e){a(e)},e.ZLJS_AsyncLoad=function(e,t,n,a){var i=new XMLHttpRequest;if(i.open(a?'POST':'GET',o(e),!0),i.responseType='arraybuffer',i.onload=function(){if(200==i.status){var e=r(new Uint8Array(i.response));ZL.asm.ZLFNHTTP(t,200,e,i.response.byteLength),ZL.asm.free(e)}else ZL.asm.ZLFNHTTP(t,i.status,0,0)},i.onerror=function(){ZL.asm.ZLFNHTTP(t,i.status,0,0)},a)try{i.send(f.subarray(n,n+a))}catch(e){i.send(f.buffer.slice(n,n+a))}else i.send(null)},e.ZLJS_Websocket=function(e,t,a,i){if(1!=t)if(2!=t){if(t>=3)return u.close(t-3,i?o(a,i):void 0),void(u=void 0);var s=new WebSocket(o(a));s.binaryType='arraybuffer',s.onopen=function(){ZL.asm.ZLFNWebSocket(e,1)},s.onmessage=function(t){var a='string'==typeof t.data,o=a?t.data:new Uint8Array(t.data),i=a?n(o):r(o);ZL.asm.ZLFNWebSocket(e,a?2:3,i,o.length),ZL.asm.free(i)},s.onclose=function(){ZL.asm.ZLFNWebSocket(e,0),u=void 0},u=s}else u&&u.send(f.subarray(a,a+i));else u&&u.send(o(a,i))},e.ZLJS_StartAudio=function(){var e,n,r,a,o,i,u,f;try{e=new(t(window,'','','AudioContext'))}catch(e){}e?(n=0,a=(r=882)/44100,o=0,i=0,u=[{length:0}],f=0,setInterval(function(){var t,s,c,l;if(('suspended'!=e.state||(e.resume(),'suspended'!=e.state))&&(0==(t=e.currentTime)&&(n=0),a>=n-t)){if(u[0].length!=r)for(ZL.asm.free(o),i=(o=ZL.asm.malloc(r<<3))>>2,s=0;4!=s;s++)u[s]=e.createBuffer(2,r,44100);ZL.asm.ZLFNAudio(o,r)&&((c=u[f=(f+1)%4]).getChannelData(0).set(m.subarray(i,i+r)),c.getChannelData(1).set(m.subarray(i+r,i+(r<<1))),(l=e.createBufferSource()).connect(e.destination),l.buffer=c,l[l.start?'start':'noteOn'](.005+n)),t>n&&t>.5&&(10*a>t-n&&11025>r&&document.hasFocus()&&(a=(r+=441)/44100,ZL.print('Warning: Audio callback had starved sending audio by '+(t-n)+' seconds. (extending samples to: '+r+')')),n=t+(document.hasFocus()?0:1.5)),n+=a}},10)):ZL.print('Warning: WebAudio not supported')},e.ZLJS_OpenExternalUrl=function(e){e=o(e),ZL.openUrl?ZL.openUrl(e):window.open(e,'_newtab')},e.ZLJS_SettingsInit=function(e){s=ZL.settingsPrefix?ZL.settingsPrefix:o(e)},e.ZLJS_SettingsSet=function(e,t){l[s+' '+o(e)]=o(t)},e.ZLJS_SettingsDel=function(e){delete l[s+' '+o(e)]},e.ZLJS_SettingsHas=function(e){return void 0!==l[s+' '+o(e)]},e.ZLJS_SettingsGetMalloc=function(e){return e=o(e),void 0===l[s+' '+e]?0:n(l[s+' '+e])}}(b),function(t){function n(e){var t,n=d++;for(t=e.length;n>t;t++)e[t]=null;return n}function r(e){GLlastError||(GLlastError=e)}function i(e,t,n,a,o){var i,u,c,g,d;switch(t){case 6406:case 6409:case 6402:u=1;break;case 6410:u=2;break;case 6407:case 35904:u=3;break;case 6408:case 35906:u=4;break;default:return r(1280),null}switch(e){case 5121:i=1*u;break;case 5123:case 36193:i=2*u;break;case 5125:case 5126:i=4*u;break;case 34042:i=4;break;case 33635:case 32819:case 32820:i=2;break;default:return r(1280),null}switch(c=n*i,d=A,g=a>0?Math.floor((c+d-1)/d)*d*(a-1)+c:0,e){case 5121:return f.subarray(o,o+g);case 5126:return m.subarray(o>>2,o+g>>2);case 5125:case 34042:return l.subarray(o>>2,o+g>>2);case 5123:case 33635:case 32819:case 32820:case 36193:return s.subarray(o>>1,o+g>>1);default:return r(1280),null}}var g,d=1,b=[],_=[],v=[],x=[],Z=[],y=[],w={},A=4,S=null,p=[0];for(S=new Float32Array(256),g=0;256>g;g++)p[g]=S.subarray(0,g+1);L=function(t,n){var r,a,o,i,u,f,s;void 0===n.majorVersion&&void 0===n.minorVersion&&(n.majorVersion=1,n.minorVersion=0),a='';try{let o=function(e){a=e.statusMessage||a};t.addEventListener('webglcontextcreationerror',o,!1);try{if(1==n.majorVersion&&0==n.minorVersion)r=t.getContext('webgl',n)||t.getContext('experimental-webgl',n);else{if(2!=n.majorVersion||0!=n.minorVersion)throw'Unsupported WebGL context version '+majorVersion+'.'+minorVersion;r=t.getContext('webgl2',n)}}finally{t.removeEventListener('webglcontextcreationerror',o,!1)}if(!r)throw'Could not create canvas'}catch(t){e('WEBGL',t+(a?' ('+a+')':''))}return(void 0===n.enableExtensionsByDefault||n.enableExtensionsByDefault)&&(2>n.majorVersion&&((o=r.getExtension('ANGLE_instanced_arrays'))&&(r.vertexAttribDivisor=function(e,t){o.vertexAttribDivisorANGLE(e,t)},r.drawArraysInstanced=function(e,t,n,r){o.drawArraysInstancedANGLE(e,t,n,r)},r.drawElementsInstanced=function(e,t,n,r,a){o.drawElementsInstancedANGLE(e,t,n,r,a)}),(i=r.getExtension('OES_vertex_array_object'))&&(r.createVertexArray=function(){return i.createVertexArrayOES()},r.deleteVertexArray=function(e){i.deleteVertexArrayOES(e)},r.bindVertexArray=function(e){i.bindVertexArrayOES(e)},r.isVertexArray=function(e){return i.isVertexArrayOES(e)}),(u=r.getExtension('WEBGL_draw_buffers'))&&(r.drawBuffers=function(e,t){u.drawBuffersWEBGL(e,t)})),r.disjointTimerQueryExt=r.getExtension('EXT_disjoint_timer_query'),f=['OES_texture_float','OES_texture_half_float','OES_standard_derivatives','OES_vertex_array_object','WEBGL_compressed_texture_s3tc','WEBGL_depth_texture','OES_element_index_uint','EXT_texture_filter_anisotropic','EXT_frag_depth','WEBGL_draw_buffers','ANGLE_instanced_arrays','OES_texture_float_linear','OES_texture_half_float_linear','EXT_blend_minmax','EXT_shader_texture_lod','WEBGL_compressed_texture_pvrtc','EXT_color_buffer_half_float','WEBGL_color_buffer_float','EXT_sRGB','WEBGL_compressed_texture_etc1','EXT_disjoint_timer_query','WEBGL_compressed_texture_etc','WEBGL_compressed_texture_astc','EXT_color_buffer_float','WEBGL_compressed_texture_s3tc_srgb','EXT_disjoint_timer_query_webgl2'],(s=r.getSupportedExtensions())&&s.length>0&&r.getSupportedExtensions().forEach(function(e){-1!=f.indexOf(e)&&r.getExtension(e)})),h=r,!0},t.glActiveTexture=function(e){h.activeTexture(e)},t.glAttachShader=function(e,t){h.attachShader(_[e],y[t])},t.glBindAttribLocation=function(e,t,n){h.bindAttribLocation(_[e],t,o(n))},t.glBindBuffer=function(e,t){h.bindBuffer(e,t?b[t]:null)},t.glBindFramebuffer=function(e,t){h.bindFramebuffer(e,t?v[t]:null)},t.glBindTexture=function(e,t){h.bindTexture(e,t?x[t]:null)},t.glBlendFunc=function(e,t){h.blendFunc(e,t)},t.glBlendFuncSeparate=function(e,t,n,r){h.blendFuncSeparate(e,t,n,r)},t.glBlendColor=function(e,t,n,r){h.blendColor(e,t,n,r)},t.glBlendEquation=function(e){h.blendEquation(e)},t.glBlendEquationSeparate=function(e,t){h.blendEquationSeparate(e,t)},t.glBufferData=function(e,t,n,r){n?h.bufferData(e,f.subarray(n,n+t),r):h.bufferData(e,t,r)},t.glBufferSubData=function(e,t,n,r){h.bufferSubData(e,t,f.subarray(r,r+n))},t.glClear=function(e){h.clear(e)},t.glClearColor=function(e,t,n,r){h.clearColor(e,t,n,r)},t.glColorMask=function(e,t,n,r){h.colorMask(!!e,!!t,!!n,!!r)},t.glCompileShader=function(e){h.compileShader(y[e])},t.glCreateProgram=function(){var e=n(_),t=h.createProgram();return t.name=e,_[e]=t,e},t.glCreateShader=function(e){var t=n(y);return y[t]=h.createShader(e),t},t.glDeleteBuffers=function(e,t){var n,r,a;for(n=0;e>n;n++)r=c[t+4*n>>2],(a=b[r])&&(h.deleteBuffer(a),a.name=0,b[r]=null)},t.glDeleteFramebuffers=function(e,t){var n,r,a;for(n=0;e>n;++n)r=c[t+4*n>>2],(a=v[r])&&(h.deleteFramebuffer(a),a.name=0,v[r]=null)},t.glDeleteProgram=function(e){if(e){var t=_[e];t?(h.deleteProgram(t),t.name=0,_[e]=null,w[e]=null):r(1281)}},t.glDeleteShader=function(e){if(e){var t=y[e];t?(h.deleteShader(t),y[e]=null):r(1281)}},t.glDeleteTextures=function(e,t){var n,r,a;for(n=0;e>n;n++)r=c[t+4*n>>2],(a=x[r])&&(h.deleteTexture(a),a.name=0,x[r]=null)},t.glDepthFunc=function(e){h.depthFunc(e)},t.glDepthMask=function(e){h.depthMask(!!e)},t.glDetachShader=function(e,t){h.detachShader(_[e],y[t])},t.glDisable=function(e){h.disable(e)},t.glDisableVertexAttribArray=function(e){h.disableVertexAttribArray(e)},t.glDrawArrays=function(e,t,n){h.drawArrays(e,t,n)},t.glDrawElements=function(e,t,n,r){h.drawElements(e,t,n,r)},t.glEnable=function(e){h.enable(e)},t.glEnableVertexAttribArray=function(e){h.enableVertexAttribArray(e)},t.glFramebufferTexture2D=function(e,t,n,r,a){h.framebufferTexture2D(e,t,n,x[r],a)},t.glGenBuffers=function(e,t){var a,o,i;for(a=0;e>a;a++){if(!(o=h.createBuffer())){for(r(1282);e>a;)c[t+4*a++>>2]=0;return}i=n(b),o.name=i,b[i]=o,c[t+4*a>>2]=i}},t.glGenFramebuffers=function(e,t){var a,o,i;for(a=0;e>a;++a){if(!(o=h.createFramebuffer())){for(r(1282);e>a;)c[t+4*a++>>2]=0;return}i=n(v),o.name=i,v[i]=o,c[t+4*a>>2]=i}},t.glGenTextures=function(e,t){var a,o,i;for(a=0;e>a;a++){if(!(o=h.createTexture())){for(r(1282);e>a;)c[t+4*a++>>2]=0;return}i=n(x),o.name=i,x[i]=o,c[t+4*a>>2]=i}},t.glGetActiveUniform=function(e,t,n,r,o,i,f){var s,l;e=_[e],(s=h.getActiveUniform(e,t))&&(n>0&&f?(l=a(s.name,u,f,n),r&&(c[r>>2]=l)):r&&(c[r>>2]=0),o&&(c[o>>2]=s.size),i&&(c[i>>2]=s.type))},t.glGetAttribLocation=function(e,t){return e=_[e],t=o(t),h.getAttribLocation(e,t)},t.glGetError=function(){if(GLlastError){var e=GLlastError;return GLlastError=0,e}return h.getError()},t.glGetIntegerv=function(e,t){!function(e,t){var n,a,o;if(t){switch(n=void 0,e){case 36346:n=1;break;case 36344:return;case 36345:n=0;break;case 34466:n=h.getParameter(34467).length}if(void 0===n)switch(typeof(a=h.getParameter(e))){case'number':n=a;break;case'boolean':n=a?1:0;break;case'string':return void r(1280);case'object':if(null===a)switch(e){case 34964:case 35725:case 34965:case 36006:case 36007:case 32873:case 34068:n=0;break;default:return void r(1280)}else{if(a instanceof Float32Array||a instanceof Uint32Array||a instanceof Int32Array||a instanceof Array){for(o=0;o<a.length;++o)c[t+4*o>>2]=a[o];return}if(!(a instanceof WebGLBuffer||a instanceof WebGLProgram||a instanceof WebGLFramebuffer||a instanceof WebGLRenderbuffer||a instanceof WebGLTexture))return void r(1280);n=0|a.name}break;default:return void r(1280)}c[t>>2]=n}else r(1281)}(e,t)},t.glGetProgramInfoLog=function(e,t,n,r){var o,i=h.getProgramInfoLog(_[e]);null===i&&(i='(unknown error)'),t>0&&r?(o=a(i,u,r,t),n&&(c[n>>2]=o)):n&&(c[n>>2]=0)},t.glGetProgramiv=function(e,t,n){var a,o,i,u,f,s,l;if(n)if(d>e)if(a=w[e])if(35716==t)null===(o=h.getProgramInfoLog(_[e]))&&(o='(unknown error)'),c[n>>2]=o.length+1;else if(35719==t)c[n>>2]=a.maxUniformLength;else if(35722==t){if(-1==a.maxAttributeLength)for(e=_[e],i=h.getProgramParameter(e,h.ACTIVE_ATTRIBUTES),a.maxAttributeLength=0,u=0;i>u;++u)f=h.getActiveAttrib(e,u),a.maxAttributeLength=Math.max(a.maxAttributeLength,f.name.length+1);c[n>>2]=a.maxAttributeLength}else if(35381==t){if(-1==a.maxUniformBlockNameLength)for(e=_[e],s=h.getProgramParameter(e,h.ACTIVE_UNIFORM_BLOCKS),a.maxUniformBlockNameLength=0,u=0;s>u;++u)l=h.getActiveUniformBlockName(e,u),a.maxUniformBlockNameLength=Math.max(a.maxUniformBlockNameLength,l.length+1);c[n>>2]=a.maxUniformBlockNameLength}else c[n>>2]=h.getProgramParameter(_[e],t);else r(1282);else r(1281);else r(1281)},t.glGetShaderInfoLog=function(e,t,n,r){var o,i=h.getShaderInfoLog(y[e]);null===i&&(i='(unknown error)'),t>0&&r?(o=a(i,u,r,t),n&&(c[n>>2]=o)):n&&(c[n>>2]=0)},t.glGetShaderiv=function(e,t,n){var a,o,i;n?35716==t?(null===(a=h.getShaderInfoLog(y[e]))&&(a='(unknown error)'),c[n>>2]=a.length+1):35720==t?(i=null===(o=h.getShaderSource(y[e]))||0==o.length?0:o.length+1,c[n>>2]=i):c[n>>2]=h.getShaderParameter(y[e],t):r(1281)},t.glGetUniformLocation=function(e,t){var n,r,a,i,u;if(n=0,-1!==(t=o(t)).indexOf(']',t.length-1)){if(r=t.lastIndexOf('['),(a=t.slice(r+1,-1)).length>0&&0>(n=parseInt(a)))return-1;t=t.slice(0,r)}return(i=w[e])&&(u=i.uniforms[t])&&n<u[0]?u[1]+n:-1},t.glLineWidth=function(e){h.lineWidth(e)},t.glLinkProgram=function(e){h.linkProgram(_[e]),w[e]=null,function(e){var t,r,a,o,i,u,f,s,c,l,m,g=_[e];for(w[e]={uniforms:{},maxUniformLength:0,maxAttributeLength:-1,maxUniformBlockNameLength:-1},r=(t=w[e]).uniforms,a=h.getProgramParameter(g,h.ACTIVE_UNIFORMS),o=0;a>o;++o)if(u=(i=h.getActiveUniform(g,o)).name,t.maxUniformLength=Math.max(t.maxUniformLength,u.length+1),-1!==u.indexOf(']',u.length-1)&&(f=u.lastIndexOf('['),u=u.slice(0,f)),null!=(s=h.getUniformLocation(g,u)))for(c=n(Z),r[u]=[i.size,c],Z[c]=s,l=1;l<i.size;++l)m=u+'['+l+']',s=h.getUniformLocation(g,m),c=n(Z),Z[c]=s}(e)},t.glPixelStorei=function(e,t){3333==e||3317==e&&(A=t),h.pixelStorei(e,t)},t.glReadPixels=function(e,t,n,a,o,u,f){var s=i(u,o,n,a,f);if(!s)return r(1280);h.readPixels(e,t,n,a,o,u,s)},t.glScissor=function(e,t,n,r){h.scissor(e,t,n,r)},t.glShaderSource=function(e,t,n,r){var a=function(e,t,n,r){var a,i,u='';for(a=0;t>a;++a)u+=r?0>(i=c[r+4*a>>2])?o(c[n+4*a>>2]):o(c[n+4*a>>2],i):o(c[n+4*a>>2]);return u}(0,t,n,r);h.shaderSource(y[e],a)},t.glTexImage2D=function(e,t,n,r,a,o,u,f,s){var c=null;s&&(c=i(f,u,r,a,s)),h.texImage2D(e,t,n,r,a,o,u,f,c)},t.glTexParameteri=function(e,t,n){h.texParameteri(e,t,n)},t.glTexSubImage2D=function(e,t,n,r,a,o,u,f,s){var c=null;s&&(c=i(f,u,a,o,s)),h.texSubImage2D(e,t,n,r,a,o,u,f,c)},t.glUniform1f=function(e,t){h.uniform1f(Z[e],t)},t.glUniform1i=function(e,t){h.uniform1i(Z[e],t)},t.glUniform2f=function(e,t,n){h.uniform2f(Z[e],t,n)},t.glUniform3f=function(e,t,n,r){h.uniform3f(Z[e],t,n,r)},t.glUniform3fv=function(e,t,n){var r,a;if(3*t>256)r=m.subarray(n>>2,n+12*t>>2);else for(r=p[3*t-1],a=0;3*t>a;a+=3)r[a]=m[n+4*a>>2],r[a+1]=m[n+(4*a+4)>>2],r[a+2]=m[n+(4*a+8)>>2];h.uniform3fv(Z[e],r)},t.glUniform4f=function(e,t,n,r,a){h.uniform4f(Z[e],t,n,r,a)},t.glUniformMatrix4fv=function(e,t,n,r){var a,o;if(16*t>256)a=m.subarray(r>>2,r+64*t>>2);else for(a=p[16*t-1],o=0;16*t>o;o+=16)a[o]=m[r+4*o>>2],a[o+1]=m[r+(4*o+4)>>2],a[o+2]=m[r+(4*o+8)>>2],a[o+3]=m[r+(4*o+12)>>2],a[o+4]=m[r+(4*o+16)>>2],a[o+5]=m[r+(4*o+20)>>2],a[o+6]=m[r+(4*o+24)>>2],a[o+7]=m[r+(4*o+28)>>2],a[o+8]=m[r+(4*o+32)>>2],a[o+9]=m[r+(4*o+36)>>2],a[o+10]=m[r+(4*o+40)>>2],a[o+11]=m[r+(4*o+44)>>2],a[o+12]=m[r+(4*o+48)>>2],a[o+13]=m[r+(4*o+52)>>2],a[o+14]=m[r+(4*o+56)>>2],a[o+15]=m[r+(4*o+60)>>2];h.uniformMatrix4fv(Z[e],!!n,a)},t.glUseProgram=function(e){h.useProgram(e?_[e]:null)},t.glVertexAttrib4f=function(e,t,n,r,a){h.vertexAttrib4f(e,t,n,r,a)},t.glVertexAttrib4fv=function(e,t){h.vertexAttrib4f(e,m[t>>2],m[t+4>>2],m[t+8>>2],m[t+12>>2])},t.glVertexAttribPointer=function(e,t,n,r,a,o){h.vertexAttribPointer(e,t,n,!!r,a,o)},t.glViewport=function(e,t,n,r){h.viewport(e,t,n,r)}}(b),function(e){function t(e){return c[(e?n=e+4:n+=4)-4>>2]}var n,r,a=ZL.files?i(ZL.files):new Uint8Array(0);delete ZL.files,r=0,e.__syscall5=function(){return r=0,10},e.__syscall140=function(e,n){t(n),t();var o=t(),i=t(),u=t();return 0==u&&(r=o),1==u&&(r+=o),2==u&&(r=a.length-o),0>r&&(r=0),r>a.length&&(r=a.length),c[i+0>>2]=r,c[i+4>>2]=0,0},e.__syscall145=function(e,n){t(n);var o,i,u,s,l=t(),m=t(),g=0;for(o=0;m>o;o++){if(i=c[l+8*o>>2],u=c[l+(8*o+4)>>2],s=Math.min(u,a.length-r),f.set(a.subarray(r,r+s),i),r+=s,0>s)return-1;if(g+=s,u>s)break}return g},e.__syscall6=function(e,n){return t(n),0},e.__syscall146=function(e,n){t(n);var r,a,i,u=t(),f=t(),s=0,l='';if(0==f)return 0;for(r=0;f>r;r++){if(a=c[u+8*r>>2],0>(i=c[u+(8*r+4)>>2]))return-1;s+=i,l+=o(a,i)}return ZL.print(l),s},e.__syscall221=function(){return 0},e.__syscall54=function(){return 0}}(b),ZL.wasm||e('BOOT','Missing Wasm data'),_=i(ZL.wasm),delete ZL.wasm,v=[];for(let e,t,n,r=8;r<_.length;r=e){function S(){return _[r++]}function p(){for(var e=r,t=0,n=128;128&n;r++)t|=(127&(n=_[r]))<<7*(r-e);return t}if(t=p(),n=p(),e=r+n,0>t||t>11||0>=n||e>_.length)break;if(6==t)for(let t=p(),n=0;n!=t&&e>r;n++){S(),S(),p();let e=p();p(),v[n]=e}if(7==t)for(let t=p(),n=0;n!=t&&e>r;n++){let e=p(),t='';for(let n=0;e>n;n++)t+=String.fromCharCode(S());let n=S(),r=p();3==n&&'__data_end'==t&&(x=r),3==n&&'__heap_base'==t&&(y=r)}}v||e('BOOT','Invalid Wasm file'),x=0|v[x],Z=x+15>>4<<4,y=0|v[y],x>0&&y>Z||e('BOOT','Invalid memory layout ('+x+'/'+Z+'/'+y+')'),w=262144+(y+65535>>16<<16),d=y,g=b.memory=new WebAssembly.Memory({initial:w>>16,maximum:4096}),t(),WebAssembly.instantiate(_,{env:b}).then(function(e){ZL.asm=e.instance.exports;var t=Z;a('zl',u,c[t+0>>2]=t+8,256),c[t+4>>2]=0,ZL.asm.__wasm_call_ctors(),ZL.asm.main(1,t,0),ZL.started()}).catch(function(t){'abort'!==t&&e('BOOT','WASM instiantate error: '+t)})}();