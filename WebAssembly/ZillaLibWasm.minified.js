!function(){function e(e,t){throw p=!0,ZL.error(e,t),"abort"}function t(){var e=d.buffer;f=new Int8Array(e),c=new Int16Array(e),l=new Int32Array(e),u=new Uint8Array(e),s=new Uint16Array(e),m=new Uint32Array(e),g=new Float32Array(e)}function n(e){var t,n;for(e=unescape(encodeURIComponent(e)),n=ZL.asm.malloc(e.length+1),t=0;t<e.length;++t)f[n+t]=255&e.charCodeAt(t);return f[n+t]=0,n}function r(e){var t=ZL.asm.malloc(Math.max(e.length,1));return e.subarray||e.slice?u.set(e,t):u.set(new Uint8Array(e),t),t}function a(e,t,n,r){var a,o,i,f,u,c,s;if(0>=r)return 0;for(a=e,o=t,f=i=n,u=i+r-1,c=0;c<a.length;++c)if((s=a.charCodeAt(c))>=55296&&57343>=s&&(s=65536+((1023&s)<<10)|1023&a.charCodeAt(++c)),s>127)if(s>2047)if(s>65535)if(s>2097151)if(s>67108863){if(i+5>=u)break;o[i++]=252|s>>30,o[i++]=128|s>>24&63,o[i++]=128|s>>18&63,o[i++]=128|s>>12&63,o[i++]=128|s>>6&63,o[i++]=128|63&s}else{if(i+4>=u)break;o[i++]=248|s>>24,o[i++]=128|s>>18&63,o[i++]=128|s>>12&63,o[i++]=128|s>>6&63,o[i++]=128|63&s}else{if(i+3>=u)break;o[i++]=240|s>>18,o[i++]=128|s>>12&63,o[i++]=128|s>>6&63,o[i++]=128|63&s}else{if(i+2>=u)break;o[i++]=224|s>>12,o[i++]=128|s>>6&63,o[i++]=128|63&s}else{if(i+1>=u)break;o[i++]=192|s>>6,o[i++]=128|63&s}else{if(i>=u)break;o[i++]=s}return o[i]=0,i-f}function o(e,t){var n,r,a,o,i,f,c,s,l,m,g,d,h,L;if(0===t||!e)return"";for(n=0,a=0;n|=r=u[e+a>>0],(0!=r||t)&&(a++,!t||a!=t););if(t||(t=a),128&n)for(o=u,i=e,f=e+t,c=String.fromCharCode,h="";;){if(i==f||!(s=o[i++]))return h;128&s?(l=63&o[i++],192!=(224&s)?(a=63&o[i++],224==(240&s)?s=(15&s)<<12|l<<6|a:(m=63&o[i++],240==(248&s)?s=(7&s)<<18|l<<12|a<<6|m:(g=63&o[i++],s=248==(252&s)?(3&s)<<24|l<<18|a<<12|m<<6|g:(1&s)<<30|l<<24|a<<18|m<<12|g<<6|(r=63&o[i++]))),h+=65536>s?c(s):c(55296|(d=s-65536)>>10,56320|1023&d)):h+=c((31&s)<<6|l)):h+=c(s)}for(L="";t>0;e+=1024,t-=1024)L+=String.fromCharCode.apply(String,u.subarray(e,e+Math.min(t,1024)));return L}function i(e){var t,n,r,a,o,i,f,u=new Uint8Array(128),c=function(n){return u[e.charCodeAt(t+n)]};for(t=0;64>t;t++)u["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charCodeAt(t)]=t;for(u[45]=62,u[95]=63,n=e.length,r="="===e[n-2]?2:"="===e[n-1]?1:0,a=new Uint8Array(3*n/4-r),o=0,i=r>0?n-4:n,f=0,t=0;i>t;t+=4)f=c(0)<<18|c(1)<<12|c(2)<<6|c(3),a[o++]=f>>16&255,a[o++]=f>>8&255,a[o++]=255&f;return 1===r?(f=c(0)<<10|c(1)<<4|c(2)>>2,a[o]=f>>8&255,a[o+1]=255&f):2===r&&(a[o]=255&(c(0)<<2|c(1)>>4)),a}var f,u,c,s,l,m,g,d,h,L,b,_,v,x,Z,w,y,A,S,p=!1;ZL.print=ZL.print||function(e){console.log(e)},ZL.error=ZL.error||function(e,t){ZL.print("[ERROR] "+e+": "+t)},ZL.started=ZL.started||function(){},(v={sbrk:function(n){var r=h,a=r+n,o=a-d.buffer.byteLength;return a>L&&e("MEM","Out of memory"),o>0&&(d.grow(o+65535>>16),t()),h=a,0|r},time:function(e){var t=Date.now()/1e3|0;return e&&(l[e>>2]=t),t},gettimeofday:function(e){var t=Date.now();l[e>>2]=t/1e3|0,l[e+4>>2]=t%1e3*1e3|0},__assert_fail:function(t,n,r,a){e("CRASH","Assert "+o(t)+", at: "+(n?o(n):"unknown filename"),a&&o(a))},__cxa_uncaught_exception:function(){e("CRASH","Uncaught exception!")},__cxa_pure_virtual:function(){e("CRASH","pure virtual")},abort:function(){e("CRASH","Abort called")},longjmp:function(){e("CRASH","Unsupported longjmp called")}}).setjmp=v.__cxa_atexit=v.__lock=v.__unlock=function(){},v.ceil=v.ceilf=Math.ceil,v.exp=v.expf=Math.exp,v.floor=v.floorf=Math.floor,v.log=v.logf=Math.log,v.pow=v.powf=Math.pow,v.cos=v.cosf=Math.cos,v.sin=v.sinf=Math.sin,v.tan=v.tanf=Math.tan,v.acos=v.acosf=Math.acos,v.asin=v.asinf=Math.asin,v.sqrt=v.sqrtf=Math.sqrt,v.atan=v.atanf=Math.atan,v.atan2=v.atan2f=Math.atan2,v.fabs=v.fabsf=v.abs=Math.abs,v.round=v.roundf=v.rint=v.rintf=Math.round,function(e){function t(e,t,n,r){return e[t+r]||e["moz"+n+r]||e["webkit"+n+r]||e["ms"+n+r]}function a(e){l=e;var n=e?ZL.canvas:document,r=e?t(n,"r","R","equestPointerLock"):t(n,"e","E","xitPointerLock");r&&r.call(n)}var i,f,s="ZL",l=0,m={};try{m=window.localStorage||{}}catch(e){}e.ZLJS_CreateWindow=function(e,n,r){var o,f,u,c,s,m,g,d,h,L,b,v,x,Z,w;ZL.requestWidth?(n=ZL.requestHeight?ZL.requestHeight:ZL.requestWidth*n/e,e=ZL.requestWidth):ZL.requestHeight&&(e=ZL.requestHeight*e/n,n=ZL.requestHeight),o=ZL.canvas,(f=function(){o.width=e,o.height=n,o.height=o.clientHeight,o.width=o.clientWidth})(),_(o,{antialias:!0,alpha:!1})&&(u=!0,c=null,s=null,m=-1,g=-1,d=function(e){e.preventDefault?e.preventDefault(!0):e.stopPropagation?e.stopPropagation(!0):e.stopped=!0},h=function(e){return(void 0!==e.offsetX?e.offsetX:e.clientX-(s?0:o.getBoundingClientRect().left))*o.width/o.clientWidth},L=function(e){return(void 0!==e.offsetY?e.offsetY:e.clientY-(s?0:o.getBoundingClientRect().top))*o.height/o.clientHeight},b=function(e,t,n){n("moz"+e,t,1),n("webkit"+e,t,1),n("ms"+e,t,1)},x=function(e,t){o.addEventListener(e,t,{capture:!0,passive:!1})},Z=function(e,t,n){document.addEventListener(e,t),n||b(e,t,Z)},(v=function(e,t){window.addEventListener(e,t,!0)})("keydown",function(e){var t;ZL.asm.ZLFNKey(!0,e.keyCode,e.shiftKey,e.ctrlKey,e.altKey,e.metaKey),void 0!==e.char?e.char||d(e):e.keyIdentifier&&(t=e.keyIdentifier.match(/^U\+(\S+)$/))&&Math.floor("0x"+t[1])>=32||d(e)}),v("keyup",function(e){ZL.asm.ZLFNKey(!1,e.keyCode,e.shiftKey,e.ctrlKey,e.altKey,e.metaKey),d(e)}),v("keypress",function(e){var t=e.charCode||e.char&&e.char.charCodeAt(0);32>t||ZL.asm.ZLFNText(t),d(e)}),x("mousemove",function(e){var t,n,r,a;c?(-1==m&&(m=g=200),t=0|e.movementX,n=0|e.movementY,(t||n)&&(g+=n,0>(m+=t)?m=0:m>o.width-1&&(m=o.width-1),0>g?g=0:g>o.height-1&&(g=o.height-1),ZL.asm.ZLFNMove(m,g,t,n))):(r=h(e),a=L(e),-1!=m&&r==m&&a==g||(-1==m&&(m=r,g=a),ZL.asm.ZLFNMove(r,a,r-m,a-g),m=r,g=a)),u&&d(e)}),x("mousedown",function(e){ZL.asm.ZLFNMouse(e.button,!0,c?m:h(e),c?g:L(e)),u&&d(e),l&&!c&&a(1)}),x("mouseup",function(e){ZL.asm.ZLFNMouse(e.button,!1,c?m:h(e),c?g:L(e)),u&&d(e)}),x("mousewheel",function(e){ZL.asm.ZLFNWheel(e.wheelDelta),u&&d(e)}),x("DOMMouseScroll",function(e){ZL.asm.ZLFNWheel(40*-e.detail),u&&d(e)}),x("mouseover",function(){c||s||(u=!0,ZL.asm.ZLFNWindow(1,0,0))}),x("mouseout",function(){c||s||(u=!1,m=g=-1,ZL.asm.ZLFNWindow(2,0,0))}),x("touchstart",function(e){ZL.asm.ZLFNMouse(0,!0,m=h(e.touches[0]),g=L(e.touches[0])),u&&d(e)}),x("touchmove",function(e){var t=h(e.touches[0]),n=L(e.touches[0]);ZL.asm.ZLFNMove(t,n,t-m,n-g),m=t,g=n,u&&d(e)}),x("touchend",function(e){ZL.asm.ZLFNMouse(0,!1,m,g),u&&d(e)}),v("focus",function(e){e.target==window&&ZL.asm.ZLFNWindow(3,0,0)}),v("blur",function(e){e.target==window&&ZL.asm.ZLFNWindow(4,0,0)}),v("resize",function(){s||32>o.clientWidth||32>o.clientHeight||o.width==o.clientWidth&&o.height==o.clientHeight||(o.height=o.clientHeight,o.width=o.clientWidth,ZL.asm.ZLFNWindow(6,o.width,o.height))}),Z("fullscreenchange",function(){(s=t(document,"f","F","ullscreenElement")||t(document,"f","F","ullScreenElement"))?(o.orgStyle=o.style.cssText,o.style.cssText="background:black",o.height=screen.height,o.width=screen.width):(o.orgStyle&&(o.style.cssText=o.orgStyle),f()),ZL.asm.ZLFNWindow(s?5:6,o.width,o.height)}),Z("pointerlockchange",function(){c=t(document,"p","P","ointerLockElement"),ZL.asm.ZLFNWindow(c?7:8,0,0)}),i=Date.now(),r>1e3/55?(window.requestAnimationFrame(ZL.asm.ZLFNDraw),setInterval(function(){window.requestAnimationFrame(ZL.asm.ZLFNDraw)},r)):(w=function(){p||(window.requestAnimationFrame(w),ZL.asm.ZLFNDraw())},window.requestAnimationFrame(w)))},e.ZLJS_GetWidth=function(){return ZL.canvas.width},e.ZLJS_GetHeight=function(){return ZL.canvas.height},e.ZLJS_GetTime=function(){return Date.now()-i},e.ZLJS_SetFullscreen=ZL.SetFullscreen=function(e){var n,r=e?ZL.canvas:document;(n=e?t(r,"r","R","equestFullscreen")||t(r,"r","R","equestFullScreen"):t(r,"e","E","xitFullscreen")||t(r,"c","C","ancelFullScreen"))&&n.call(r)},e.ZLJS_SetPointerLock=function(e){a(e)},e.ZLJS_AsyncLoad=function(e,t,n,a){var i=new XMLHttpRequest;if(i.open(a?"POST":"GET",o(e),!0),i.responseType="arraybuffer",i.onload=function(){if(200==i.status){var e=r(new Uint8Array(i.response));ZL.asm.ZLFNHTTP(t,200,e,i.response.byteLength),ZL.asm.free(e)}else ZL.asm.ZLFNHTTP(t,i.status,0,0)},i.onerror=function(){ZL.asm.ZLFNHTTP(t,i.status,0,0)},a)try{i.send(u.subarray(n,n+a))}catch(e){i.send(u.buffer.slice(n,n+a))}else i.send(null)},e.ZLJS_Websocket=function(e,t,a,i){if(1!=t)if(2!=t){if(t>=3)return f.close(t-3,i?o(a,i):void 0),void(f=void 0);var c=new WebSocket(o(a));c.binaryType="arraybuffer",c.onopen=function(){ZL.asm.ZLFNWebSocket(e,1)},c.onmessage=function(t){var a="string"==typeof t.data,o=a?t.data:new Uint8Array(t.data),i=a?n(o):r(o);ZL.asm.ZLFNWebSocket(e,a?2:3,i,o.length),ZL.asm.free(i)},c.onclose=function(){ZL.asm.ZLFNWebSocket(e,0),f=void 0},f=c}else f&&f.send(u.subarray(a,a+i));else f&&f.send(o(a,i))},e.ZLJS_StartAudio=function(){var e,t,n,r,a,o,i,f,u,s=ZL.asm.malloc(40960);try{e=new(window.AudioContext||window.webkitAudioContext)}catch(e){return}!function(){try{e.createBufferSource().buffer=null}catch(e){return!0}return!1}()?(i=512,f=0,setTimeout(u=function(){var t,n,r,a,o,l,m,g,d=e.currentTime,h=i<<2;for(ZL.asm.ZLFNAudio(s,h),n=(t=e.createBuffer(2,i,44100)).getChannelData(0),r=t.getChannelData(1),a=s>>1,o=0;i>o;++o)n[o]=c[a++]/32768,r[o]=c[a++]/32768;l=f/44100,(m=e.createBufferSource()).connect(e.destination),m.buffer=t,m[m.start?"start":"noteOn"](.005+l),f+=i,d>l&&l&&10240>i&&(i+=256,ZL.print("Warning: Audio callback had starved sending audio by "+(d-l)+" seconds. (extending samples to: "+i+")")),4>(g=1e3*(l-d-i/44100))?u():setTimeout(u,g)},1)):(t=e.createBuffer(2,4096,44100),(n=e.createBufferSource()).connect(e.destination),n.buffer=t,n.loop=!0,n[n.start?"start":"noteOn"](),r=t.getChannelData(0),a=t.getChannelData(1),o=0,setInterval(function(){var t,n,i,f,u=44100*e.currentTime|0,l=u-o<<2;if(l){if(l>40960&&(l=40960),o=u,ZL.asm.ZLFNAudio(s,l),f=s>>1,0>(n=(t=4095&u)-(l>>2))){for(i=4096+n;4096>i;++i)r[i]=c[f++]/32768,a[i]=c[f++]/32768;n=0}for(i=n;t>i;++i)r[i]=c[f++]/32768,a[i]=c[f++]/32768}},5))},e.ZLJS_OpenExternalUrl=function(e){e=o(e),ZL.openUrl?ZL.openUrl(e):window.open(e,"_newtab")},e.ZLJS_SettingsInit=function(e){s=ZL.settingsPrefix?ZL.settingsPrefix:o(e)},e.ZLJS_SettingsSet=function(e,t){m[s+" "+o(e)]=o(t)},e.ZLJS_SettingsDel=function(e){delete m[s+" "+o(e)]},e.ZLJS_SettingsHas=function(e){return void 0!==m[s+" "+o(e)]},e.ZLJS_SettingsGetMalloc=function(e){return e=o(e),void 0===m[s+" "+e]?0:n(m[s+" "+e])}}(v),function(t){function n(e){var t,n=d++;for(t=e.length;n>t;t++)e[t]=null;return n}function r(e){GLlastError||(GLlastError=e)}function i(e,t,n,a,o){var i,f,c,l,d;switch(t){case 6406:case 6409:case 6402:f=1;break;case 6410:f=2;break;case 6407:case 35904:f=3;break;case 6408:case 35906:f=4;break;default:return r(1280),null}switch(e){case 5121:i=1*f;break;case 5123:case 36193:i=2*f;break;case 5125:case 5126:i=4*f;break;case 34042:i=4;break;case 33635:case 32819:case 32820:i=2;break;default:return r(1280),null}switch(c=n*i,d=A,l=a>0?Math.floor((c+d-1)/d)*d*(a-1)+c:0,e){case 5121:return u.subarray(o,o+l);case 5126:return g.subarray(o>>2,o+l>>2);case 5125:case 34042:return m.subarray(o>>2,o+l>>2);case 5123:case 33635:case 32819:case 32820:case 36193:return s.subarray(o>>1,o+l>>1);default:return r(1280),null}}var c,d=1,h=[],L=[],v=[],x=[],Z=[],w=[],y={},A=4,S=null,p=[0];for(S=new Float32Array(256),c=0;256>c;c++)p[c]=S.subarray(0,c+1);_=function(t,n){var r,a,o,i,f,u,c;void 0===n.majorVersion&&void 0===n.minorVersion&&(n.majorVersion=1,n.minorVersion=0),a="";try{let o=function(e){a=e.statusMessage||a};t.addEventListener("webglcontextcreationerror",o,!1);try{if(1==n.majorVersion&&0==n.minorVersion)r=t.getContext("webgl",n)||t.getContext("experimental-webgl",n);else{if(2!=n.majorVersion||0!=n.minorVersion)throw"Unsupported WebGL context version "+majorVersion+"."+minorVersion;r=t.getContext("webgl2",n)}}finally{t.removeEventListener("webglcontextcreationerror",o,!1)}if(!r)throw"Could not create canvas"}catch(t){e("WEBGL",t+(a?" ("+a+")":""))}return(void 0===n.enableExtensionsByDefault||n.enableExtensionsByDefault)&&(2>n.majorVersion&&((o=r.getExtension("ANGLE_instanced_arrays"))&&(r.vertexAttribDivisor=function(e,t){o.vertexAttribDivisorANGLE(e,t)},r.drawArraysInstanced=function(e,t,n,r){o.drawArraysInstancedANGLE(e,t,n,r)},r.drawElementsInstanced=function(e,t,n,r,a){o.drawElementsInstancedANGLE(e,t,n,r,a)}),(i=r.getExtension("OES_vertex_array_object"))&&(r.createVertexArray=function(){return i.createVertexArrayOES()},r.deleteVertexArray=function(e){i.deleteVertexArrayOES(e)},r.bindVertexArray=function(e){i.bindVertexArrayOES(e)},r.isVertexArray=function(e){return i.isVertexArrayOES(e)}),(f=r.getExtension("WEBGL_draw_buffers"))&&(r.drawBuffers=function(e,t){f.drawBuffersWEBGL(e,t)})),r.disjointTimerQueryExt=r.getExtension("EXT_disjoint_timer_query"),u=["OES_texture_float","OES_texture_half_float","OES_standard_derivatives","OES_vertex_array_object","WEBGL_compressed_texture_s3tc","WEBGL_depth_texture","OES_element_index_uint","EXT_texture_filter_anisotropic","EXT_frag_depth","WEBGL_draw_buffers","ANGLE_instanced_arrays","OES_texture_float_linear","OES_texture_half_float_linear","EXT_blend_minmax","EXT_shader_texture_lod","WEBGL_compressed_texture_pvrtc","EXT_color_buffer_half_float","WEBGL_color_buffer_float","EXT_sRGB","WEBGL_compressed_texture_etc1","EXT_disjoint_timer_query","WEBGL_compressed_texture_etc","WEBGL_compressed_texture_astc","EXT_color_buffer_float","WEBGL_compressed_texture_s3tc_srgb","EXT_disjoint_timer_query_webgl2"],(c=r.getSupportedExtensions())&&c.length>0&&r.getSupportedExtensions().forEach(function(e){-1!=u.indexOf(e)&&r.getExtension(e)})),b=r,!0},t.glActiveTexture=function(e){b.activeTexture(e)},t.glAttachShader=function(e,t){b.attachShader(L[e],w[t])},t.glBindAttribLocation=function(e,t,n){b.bindAttribLocation(L[e],t,o(n))},t.glBindBuffer=function(e,t){b.bindBuffer(e,t?h[t]:null)},t.glBindFramebuffer=function(e,t){b.bindFramebuffer(e,t?v[t]:null)},t.glBindTexture=function(e,t){b.bindTexture(e,t?x[t]:null)},t.glBlendFunc=function(e,t){b.blendFunc(e,t)},t.glBlendFuncSeparate=function(e,t,n,r){b.blendFuncSeparate(e,t,n,r)},t.glBlendColor=function(e,t,n,r){b.blendColor(e,t,n,r)},t.glBlendEquation=function(e){b.blendEquation(e)},t.glBlendEquationSeparate=function(e,t){b.blendEquationSeparate(e,t)},t.glBufferData=function(e,t,n,r){n?b.bufferData(e,u.subarray(n,n+t),r):b.bufferData(e,t,r)},t.glBufferSubData=function(e,t,n,r){b.bufferSubData(e,t,u.subarray(r,r+n))},t.glClear=function(e){b.clear(e)},t.glClearColor=function(e,t,n,r){b.clearColor(e,t,n,r)},t.glColorMask=function(e,t,n,r){b.colorMask(!!e,!!t,!!n,!!r)},t.glCompileShader=function(e){b.compileShader(w[e])},t.glCreateProgram=function(){var e=n(L),t=b.createProgram();return t.name=e,L[e]=t,e},t.glCreateShader=function(e){var t=n(w);return w[t]=b.createShader(e),t},t.glDeleteBuffers=function(e,t){var n,r,a;for(n=0;e>n;n++)r=l[t+4*n>>2],(a=h[r])&&(b.deleteBuffer(a),a.name=0,h[r]=null)},t.glDeleteFramebuffers=function(e,t){var n,r,a;for(n=0;e>n;++n)r=l[t+4*n>>2],(a=v[r])&&(b.deleteFramebuffer(a),a.name=0,v[r]=null)},t.glDeleteProgram=function(e){if(e){var t=L[e];t?(b.deleteProgram(t),t.name=0,L[e]=null,y[e]=null):r(1281)}},t.glDeleteShader=function(e){if(e){var t=w[e];t?(b.deleteShader(t),w[e]=null):r(1281)}},t.glDeleteTextures=function(e,t){var n,r,a;for(n=0;e>n;n++)r=l[t+4*n>>2],(a=x[r])&&(b.deleteTexture(a),a.name=0,x[r]=null)},t.glDepthFunc=function(e){b.depthFunc(e)},t.glDepthMask=function(e){b.depthMask(!!e)},t.glDetachShader=function(e,t){b.detachShader(L[e],w[t])},t.glDisable=function(e){b.disable(e)},t.glDisableVertexAttribArray=function(e){b.disableVertexAttribArray(e)},t.glDrawArrays=function(e,t,n){b.drawArrays(e,t,n)},t.glDrawElements=function(e,t,n,r){b.drawElements(e,t,n,r)},t.glEnable=function(e){b.enable(e)},t.glEnableVertexAttribArray=function(e){b.enableVertexAttribArray(e)},t.glFramebufferTexture2D=function(e,t,n,r,a){b.framebufferTexture2D(e,t,n,x[r],a)},t.glGenBuffers=function(e,t){var a,o,i;for(a=0;e>a;a++){if(!(o=b.createBuffer())){for(r(1282);e>a;)l[t+4*a++>>2]=0;return}i=n(h),o.name=i,h[i]=o,l[t+4*a>>2]=i}},t.glGenFramebuffers=function(e,t){var a,o,i;for(a=0;e>a;++a){if(!(o=b.createFramebuffer())){for(r(1282);e>a;)l[t+4*a++>>2]=0;return}i=n(v),o.name=i,v[i]=o,l[t+4*a>>2]=i}},t.glGenTextures=function(e,t){var a,o,i;for(a=0;e>a;a++){if(!(o=b.createTexture())){for(r(1282);e>a;)l[t+4*a++>>2]=0;return}i=n(x),o.name=i,x[i]=o,l[t+4*a>>2]=i}},t.glGetActiveUniform=function(e,t,n,r,o,i,u){var c,s;e=L[e],(c=b.getActiveUniform(e,t))&&(n>0&&u?(s=a(c.name,f,u,n),r&&(l[r>>2]=s)):r&&(l[r>>2]=0),o&&(l[o>>2]=c.size),i&&(l[i>>2]=c.type))},t.glGetAttribLocation=function(e,t){return e=L[e],t=o(t),b.getAttribLocation(e,t)},t.glGetError=function(){if(GLlastError){var e=GLlastError;return GLlastError=0,e}return b.getError()},t.glGetIntegerv=function(e,t){!function(e,t){var n,a,o;if(t){switch(n=void 0,e){case 36346:n=1;break;case 36344:return;case 36345:n=0;break;case 34466:n=b.getParameter(34467).length}if(void 0===n)switch(typeof(a=b.getParameter(e))){case"number":n=a;break;case"boolean":n=a?1:0;break;case"string":return void r(1280);case"object":if(null===a)switch(e){case 34964:case 35725:case 34965:case 36006:case 36007:case 32873:case 34068:n=0;break;default:return void r(1280)}else{if(a instanceof Float32Array||a instanceof Uint32Array||a instanceof Int32Array||a instanceof Array){for(o=0;o<a.length;++o)l[t+4*o>>2]=a[o];return}if(!(a instanceof WebGLBuffer||a instanceof WebGLProgram||a instanceof WebGLFramebuffer||a instanceof WebGLRenderbuffer||a instanceof WebGLTexture))return void r(1280);n=0|a.name}break;default:return void r(1280)}l[t>>2]=n}else r(1281)}(e,t)},t.glGetProgramInfoLog=function(e,t,n,r){var o,i=b.getProgramInfoLog(L[e]);null===i&&(i="(unknown error)"),t>0&&r?(o=a(i,f,r,t),n&&(l[n>>2]=o)):n&&(l[n>>2]=0)},t.glGetProgramiv=function(e,t,n){var a,o,i,f,u,c,s;if(n)if(d>e)if(a=y[e])if(35716==t)null===(o=b.getProgramInfoLog(L[e]))&&(o="(unknown error)"),l[n>>2]=o.length+1;else if(35719==t)l[n>>2]=a.maxUniformLength;else if(35722==t){if(-1==a.maxAttributeLength)for(e=L[e],i=b.getProgramParameter(e,b.ACTIVE_ATTRIBUTES),a.maxAttributeLength=0,f=0;i>f;++f)u=b.getActiveAttrib(e,f),a.maxAttributeLength=Math.max(a.maxAttributeLength,u.name.length+1);l[n>>2]=a.maxAttributeLength}else if(35381==t){if(-1==a.maxUniformBlockNameLength)for(e=L[e],c=b.getProgramParameter(e,b.ACTIVE_UNIFORM_BLOCKS),a.maxUniformBlockNameLength=0,f=0;c>f;++f)s=b.getActiveUniformBlockName(e,f),a.maxUniformBlockNameLength=Math.max(a.maxUniformBlockNameLength,s.length+1);l[n>>2]=a.maxUniformBlockNameLength}else l[n>>2]=b.getProgramParameter(L[e],t);else r(1282);else r(1281);else r(1281)},t.glGetShaderInfoLog=function(e,t,n,r){var o,i=b.getShaderInfoLog(w[e]);null===i&&(i="(unknown error)"),t>0&&r?(o=a(i,f,r,t),n&&(l[n>>2]=o)):n&&(l[n>>2]=0)},t.glGetShaderiv=function(e,t,n){var a,o,i;n?35716==t?(null===(a=b.getShaderInfoLog(w[e]))&&(a="(unknown error)"),l[n>>2]=a.length+1):35720==t?(i=null===(o=b.getShaderSource(w[e]))||0==o.length?0:o.length+1,l[n>>2]=i):l[n>>2]=b.getShaderParameter(w[e],t):r(1281)},t.glGetUniformLocation=function(e,t){var n,r,a,i,f;if(n=0,-1!==(t=o(t)).indexOf("]",t.length-1)){if(r=t.lastIndexOf("["),(a=t.slice(r+1,-1)).length>0&&0>(n=parseInt(a)))return-1;t=t.slice(0,r)}return(i=y[e])&&(f=i.uniforms[t])&&n<f[0]?f[1]+n:-1},t.glLineWidth=function(e){b.lineWidth(e)},t.glLinkProgram=function(e){b.linkProgram(L[e]),y[e]=null,function(e){var t,r,a,o,i,f,u,c,s,l,m,g=L[e];for(y[e]={uniforms:{},maxUniformLength:0,maxAttributeLength:-1,maxUniformBlockNameLength:-1},r=(t=y[e]).uniforms,a=b.getProgramParameter(g,b.ACTIVE_UNIFORMS),o=0;a>o;++o)if(f=(i=b.getActiveUniform(g,o)).name,t.maxUniformLength=Math.max(t.maxUniformLength,f.length+1),-1!==f.indexOf("]",f.length-1)&&(u=f.lastIndexOf("["),f=f.slice(0,u)),null!=(c=b.getUniformLocation(g,f)))for(s=n(Z),r[f]=[i.size,s],Z[s]=c,l=1;l<i.size;++l)m=f+"["+l+"]",c=b.getUniformLocation(g,m),s=n(Z),Z[s]=c}(e)},t.glPixelStorei=function(e,t){3333==e||3317==e&&(A=t),b.pixelStorei(e,t)},t.glReadPixels=function(e,t,n,a,o,f,u){var c=i(f,o,n,a,u);if(!c)return r(1280);b.readPixels(e,t,n,a,o,f,c)},t.glScissor=function(e,t,n,r){b.scissor(e,t,n,r)},t.glShaderSource=function(e,t,n,r){var a=function(e,t,n,r){var a,i,f="";for(a=0;t>a;++a)f+=r?0>(i=l[r+4*a>>2])?o(l[n+4*a>>2]):o(l[n+4*a>>2],i):o(l[n+4*a>>2]);return f}(0,t,n,r);b.shaderSource(w[e],a)},t.glTexImage2D=function(e,t,n,r,a,o,f,u,c){var s=null;c&&(s=i(u,f,r,a,c)),b.texImage2D(e,t,n,r,a,o,f,u,s)},t.glTexParameteri=function(e,t,n){b.texParameteri(e,t,n)},t.glTexSubImage2D=function(e,t,n,r,a,o,f,u,c){var s=null;c&&(s=i(u,f,a,o,c)),b.texSubImage2D(e,t,n,r,a,o,f,u,s)},t.glUniform1f=function(e,t){b.uniform1f(Z[e],t)},t.glUniform1i=function(e,t){b.uniform1i(Z[e],t)},t.glUniform2f=function(e,t,n){b.uniform2f(Z[e],t,n)},t.glUniform3f=function(e,t,n,r){b.uniform3f(Z[e],t,n,r)},t.glUniform3fv=function(e,t,n){var r,a;if(3*t>256)r=g.subarray(n>>2,n+12*t>>2);else for(r=p[3*t-1],a=0;3*t>a;a+=3)r[a]=g[n+4*a>>2],r[a+1]=g[n+(4*a+4)>>2],r[a+2]=g[n+(4*a+8)>>2];b.uniform3fv(Z[e],r)},t.glUniform4f=function(e,t,n,r,a){b.uniform4f(Z[e],t,n,r,a)},t.glUniformMatrix4fv=function(e,t,n,r){var a,o;if(16*t>256)a=g.subarray(r>>2,r+64*t>>2);else for(a=p[16*t-1],o=0;16*t>o;o+=16)a[o]=g[r+4*o>>2],a[o+1]=g[r+(4*o+4)>>2],a[o+2]=g[r+(4*o+8)>>2],a[o+3]=g[r+(4*o+12)>>2],a[o+4]=g[r+(4*o+16)>>2],a[o+5]=g[r+(4*o+20)>>2],a[o+6]=g[r+(4*o+24)>>2],a[o+7]=g[r+(4*o+28)>>2],a[o+8]=g[r+(4*o+32)>>2],a[o+9]=g[r+(4*o+36)>>2],a[o+10]=g[r+(4*o+40)>>2],a[o+11]=g[r+(4*o+44)>>2],a[o+12]=g[r+(4*o+48)>>2],a[o+13]=g[r+(4*o+52)>>2],a[o+14]=g[r+(4*o+56)>>2],a[o+15]=g[r+(4*o+60)>>2];b.uniformMatrix4fv(Z[e],!!n,a)},t.glUseProgram=function(e){b.useProgram(e?L[e]:null)},t.glVertexAttrib4f=function(e,t,n,r,a){b.vertexAttrib4f(e,t,n,r,a)},t.glVertexAttrib4fv=function(e,t){b.vertexAttrib4f(e,g[t>>2],g[t+4>>2],g[t+8>>2],g[t+12>>2])},t.glVertexAttribPointer=function(e,t,n,r,a,o){b.vertexAttribPointer(e,t,n,!!r,a,o)},t.glViewport=function(e,t,n,r){b.viewport(e,t,n,r)}}(v),function(e){function t(e){return l[(e?n=e+4:n+=4)-4>>2]}var n,r,a=ZL.files?i(ZL.files):new Uint8Array(0);delete ZL.files,r=0,e.__syscall5=function(){return r=0,10},e.__syscall140=function(e,n){t(n),t();var o=t(),i=t(),f=t();return 0==f&&(r=o),1==f&&(r+=o),2==f&&(r=a.length-o),0>r&&(r=0),r>a.length&&(r=a.length),l[i+0>>2]=r,l[i+4>>2]=0,0},e.__syscall145=function(e,n){t(n);var o,i,f,c,s=t(),m=t(),g=0;for(o=0;m>o;o++){if(i=l[s+8*o>>2],f=l[s+(8*o+4)>>2],c=Math.min(f,a.length-r),u.set(a.subarray(r,r+c),i),r+=c,0>c)return-1;if(g+=c,f>c)break}return g},e.__syscall6=function(e,n){return t(n),0},e.__syscall146=function(e,n){t(n);var r,a,i,f=t(),u=t(),c=0,s="";if(0==u)return 0;for(r=0;u>r;r++){if(a=l[f+8*r>>2],0>(i=l[f+(8*r+4)>>2]))return-1;c+=i,s+=o(a,i)}return ZL.print(s),c},e.__syscall221=function(){return 0},e.__syscall54=function(){return 0}}(v),ZL.wasm||e("BOOT","Missing Wasm data"),x=i(ZL.wasm),delete ZL.wasm,Z=[];for(let e,t,n,r=8;r<x.length;r=e){function E(){return x[r++]}function k(){for(var e=r,t=0,n=128;128&n;r++)t|=(127&(n=x[r]))<<7*(r-e);return t}if(t=k(),n=k(),e=r+n,0>t||t>11||0>=n||e>x.length)break;if(6==t)for(let t=k(),n=0;n!=t&&e>r;n++){E(),E(),k();let e=k();k(),Z[n]=e}if(7==t)for(let t=k(),n=0;n!=t&&e>r;n++){let e=k(),t="";for(let n=0;e>n;n++)t+=String.fromCharCode(E());let n=E(),r=k();3==n&&"__data_end"==t&&(w=r),3==n&&"__heap_base"==t&&(A=r)}}Z||e("BOOT","Invalid Wasm file"),w=0|Z[w],y=w+15>>4<<4,A=0|Z[A],w>0&&A>y||e("BOOT","Invalid memory layout ("+w+"/"+y+"/"+A+")"),S=262144+(A+65535>>16<<16),L=268435456,h=A,d=v.memory=new WebAssembly.Memory({initial:S>>16,maximum:L>>16}),t(),WebAssembly.instantiate(x,{env:v}).then(function(e){ZL.asm=e.instance.exports;var t=y;a("zl",f,l[t+0>>2]=t+8,256),l[t+4>>2]=0,ZL.asm.__wasm_call_ctors(),ZL.asm.main(1,t,0),ZL.started()}).catch(function(t){"abort"!==t&&e("BOOT","WASM instiantate error: "+t)})}();